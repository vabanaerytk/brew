require "rake/testtask"
require "rspec/core/rake_task"
require "rubocop/rake_task"

homebrew_repo = `brew --repository`.chomp
$LOAD_PATH.unshift(File.expand_path("#{homebrew_repo}/Library/Homebrew"))
$LOAD_PATH.unshift(File.expand_path("../lib", __FILE__))

RuboCop::RakeTask.new(:rubocop) do |t|
  t.options = ["--force-exclusion"]
end

task default: [:rubocop]

desc "Open a REPL for debugging and experimentation"
task :console do
  require "pry"
  require "pry-byebug"
  require "hbc"
  ARGV.clear
  Hbc.pry
end
